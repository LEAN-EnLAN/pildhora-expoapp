
ub-item
``` s  = Last     ─   y
└m or propertub-ite      = Se

├─     not field orImportant     = ──    ection

◄dirow   = Fl────►         ▼

──┘
     │
───┬───nt
└─n poi  = Decisio│ Check?  │
┌─────────┐

──┘└───────r step
ction o │  = Acess───┐
│ Pro
┌──────

```nd
## Legers
```
remindean receive   └─► C            dules
 figure sche► Can con      └─ions
     dd medicatn a      └─► Cas ready!
 evice ime
   └─► Dient Home

9. Patient/ho /patcted to Redire    └─►          io"
 l Inicck "Ir a Cli      └─►s
      next step     └─► Seery
  w summa Revie└─►  n
 . Completioiente"

8igu"Sick    └─► Cl              
  lume └─► Set vo             olor
 Pick LED c    └─► ss
       brightnet LED  └─► Adjus      
 alarm modesehoo C
   └─►esPreferenc
7. te"
enick "Sigui  └─► Cl       
      r skip  └─► O      
   swordEnter pas  └─► 
     mework naer net► Ent └─l)
  ionaup (OptSet
6. WiFi iente"
igu"Sck ccess! Cli► Su        └─do..."
   ronizan└─► "Sinc     ."
  u cuenta..do a t"Vinculan     ├─► "
  o...o dispositivgistrand"Re►    ├─.."
    onibilidad.icando disp"Verif   ├─► rs
    dicatogress in pro Watchic)
   └─► (Automatonficati"

5. Veriguienteick "SiCl►         └─t
    formacksidation che     └─► Val")
  VICE-12345(e.g., "DEvice ID ► Type deD
   └─r Device I Ente
4.
uiente"igClick "S    └─► n
   roductiont└─► Read i Screen
   come Welning

3.visio/device-pro/patiento cts tdire► Re     └─
  cets no devirvice detecse Routing    └─►irect
edic R. Automatd

2l/passwormaih e account wit└─► Creategn Up
   Si──┘

1. ──────────────────────────────────────────────────────────────     │
└─                       JOURNEY       USER             ┐
│       ──────────────────────────────────────────────────────────────

```
┌───rneyr Jou

## Use┘
```──────────────────        └───              g  │
    rovisionin P    │ Retry               ─┐
       ────────────────      ┌────              
        ▼                            │
                                          ───────┘
  ───────┬──      └────                   │
  Retry  Clicks    │ User                
        ─┐─────────────────        ┌───                 ▼
           ▼                                
               │     │                         ┘
     ──────└──────┬──┘   └────┬───────┘──────────┘  └───    │
└       │  │Retryry       │ │Ret       │  │ │
│    how          │  │S│Show    │No Retry │   No Retry │──┐
│─────────────┐  ┌───┐ ┌───────────────┐  ┌─── ▼
┌────             ▼       ▼               ▼       │
                   │  │               │     │
                   │              │        │  ──────┘
  └──────┬─┬────┘  ────┘ └─────┘  └────┬
└────┬──   │  r    │Erroor    │     │ │Err│Error  │  │Error    │
neric    │Ge│    tworkimed  │ │Ne   │  │Claormat
│F      │Show   │  │      │ │Show   │Show   │ ┐
│Show    ───────────────────┐  ┌ ┌────────┐──┐  ┌───────── ▼
┌──            ▼             ▼         ▼      │
                  │            ││          
     ─┘──────┬───┘  └────┬──┘ └────┬─────┘  └──────┬───│
└──  ror          │  │Er│Error  │   │Claimedice ID│    │
│Devown    │Unknk  ││Networ │ dy   │  │AlreaidvalIn────┐
│┌─────────────────┐  ──┐ ┌─────┐  ┌──────────  ▼
┌──             ▼   ▼   ▼         ▼             ▼       │
        │   │   │         ││              
 ─────┐│   └──────│   │   │   ──┘   ┌─────────    │
   │   │    │   │   │            ──┘
     ───┬───┬───┬┬───┬    └──┬───
               │    Type?      │ Error     ┐
         ──────────────────────────      ┌       ▼
                        
            │                     ──────┘
  ───┬─────      └─          
             ││ Code                        │
 Parse Error        │            ─────┐
  ───────────      ┌             ▼
                         
           │                 ─┘
      ───────────────────────────────────────┬──────────────────── │
└────                     ROR      G ERPROVISIONIN                   ─────┐
│ ────────────────────────────────────────────────────────
```
┌────Flow
Handling  Error 
##```
─────┘
────└──────────┘  ────────ur ID  │
└─ot yoe│  │ Nicev
│ Create d      │    │ DENYW        │  ALLO────┐
│─────────┐  ┌────────────
┌───       ▼   │
   ▼o
   │         │  N│
Yes│         ┘
   │┬───
└──┬────────┘─────────  └────      │r?  usetch  │
│  misma   │  │ IDrentcur
│ is          │ │ DENYID   │ rimary ──┐
│ P───────┐  ┌────────────────▼
┌───       ▼       
    │       │         │  No
       │   Yes 
   │                 │───────┘
  └──────────┬───┘  └──┬──── │
     Missing data │  │ hes doc?  │ matc            │
DENY   │  │ e ID   ic   │ Dev  ───────┐
  ────────┐  ┌─────────────   ┌
       ▼      ▼               │
             │           No
       │      Yes  │        
   │   │               ───┘
   ──────┬┬─      └──    Id  │
    maryri      │ • p              │
  id       │ •       │
      fields?       │          uired │
 │ Has req           ┐
  ────────────    ┌──      ▼
                  │
                          ───────┘
  ───── └────┘ ─────────┬──        └
      igned in│  │ Not s      │data            │            │
 │ DENY   ck device │        │ Che       ─────┐
───────────┐  ┌────────────       ┌           ▼
       ▼                     
  │       │                          │  No
 Yes  │                
        │       │                        ──┬───┘
 └────┬─────                ? │
   nticated    │ authe               
   │    Is user          │    
         ───────┐─────       ┌────                 ▼
               
               │                       ────────┘
 ─────────────────────────────────┬─────────────────  │
└──────                       ICE  EVCREATES D USER                    ─┐
│──────────────────────────────────────────────────────────
┌──────

``` Rules Flow Security
```

##───────────┘──────────────────────────────────────────────────────     │
└                                                            │  
          │         up  ok quick lo for mapping ◄── Simplerue─ t   │
│  └                   d}         viceIde/{d}/devicesers/{userI  us    │
│                                                         │
│                                             umber     edAt: n updat   │
│  └─                                n   oleanfigured: boifiCo│
│  ├─ w                             ous'    de: 'autonomctionMo─ conne   │
│  ├                                       0  l: 10eve├─ batteryL      │
│                                    null       stSeen:   ├─ la │
│                                            false    e:lin │
│  ├─ on                               d}          iceIeState/{devic  │
│  dev                                                          ─┤
│       ──────────────────────────────────────────────────────────────     │
├──                       SE DATABALTIME   REA        │          ──────┐
──────────────────────────────────────────────────────────

┌────┘───────────────────────────────────────────────────────────    │
└───                                                           
│          │                                  mestamp pdatedAt: ti└─ u│        │
                            '  'completedingStep:onboar  │
│  ├─         ete       ed compl── Marke: true ◄rdingComplet├─ onboa  │
│      g         onining provisided durg ◄── Adind: strviceI│  ├─ de
       │                                         s/{userId}    │
│  user                                                                │
│                                           string   y: dBnke  └─ li        │
│                                 amp timestdAt: ─ linke   │
│  ├                                      ve'    tus: 'acti├─ sta│    │
                                   t'         ole: 'patien│  ├─ r     │
                                     string     ├─ userId:  │
│                                      g        strin─ deviceId: │
│  ├                                                  tring │  ├─ id: s        │
                       rId}  viceId}_{use/{deeLinks│
│  devic                                                                   
│  │                                  estamp     timtedAt:   └─ upda   │
│                                    mestamp   tieatedAt: │
│  ├─ cr                                  oolean   onfigured: b├─ wifiC   │
│                                       tring     wifiSSID: s  ├─         │
│                              0-100)  number (  ├─ volume:        │
│                               ring (hex)ledColor: st│
│  ├─                              (0-100)    ty: number siten│  ├─ ledIn      │
   t' | 'silen| 'both' brate' ' | 'vie: 'soundalarmMod   │
│  ├─                                         string     ├─ userId:    │
│                                       g    : strin ├─ deviceId     │
│                              ceId}      evigs/{ddeviceConfi   │
│                                                         │                │
                                                        }    │
│                                                  }               
│         │                           mp    timesta linkedAt:    
│         │                                    ent','pati   role:      │
│                                            ]: {     rIdse      [u │
│                                             { kedUsers:  lin└─   │
│                                 stamp       At: timepdated
│  ├─ u         │                                imestampdAt: t create ├─    │
│                                    booleanred:ifiConfigu├─ w│
│                                         g  strinovisionedBy: │
│  ├─ pr                                  timestamp  isionedAt:  prov │
│  ├─                          e'      ctivStatus: 'avisioning│
│  ├─ pro        device    o owns  ◄── User whntId: stringmaryPatie│
│  ├─ pri                                               g    ├─ id: strin   │
│                                          eId}   es/{devic│
│  devic                                                               ┤
│    ────────────────────────────────────────────────────────────
├─────     │                    TORE            FIRES            
│        ───────┐────────────────────────────────────────────────────────

```
┌──isioningg Provd Durin Create
## Data───┘
```
──────────  └────                                  ady    │
 │ Device Re                               │
     ess!             │ Succ                            ─┐
  ─────────────┌───                                 ▼
                                             
             │                                ┘
     ──────────────────────────      └─────
          │                                   │      
  ┘───────────└──────────┬                      │             │
  DB)   ltime │    (Rea                │                 ate   │
nit RTDB St. I        │ 5  │                   ────┐
     ─────────  ┌─────────              │                 
  ▼                            │                     │
                       │            ┘
     ───────────────┬──   └────              │           
            │tore)    (Fires         │              │            er Doc   │
e Uspdat   │ 4. U      │                 ┐
        ────────────────  ┌──────             │                 
       ▼                                   │           │
                          │           
  ───────────┘───┬└───────                │         
            │re)     (Firesto       │             │             │
       e Link Doc 3. Creat    │                │              ─────────┐
─────  ┌────────                         │        ▼
                           │                       │
                   │                   ────────┘
 ────┬─── └──────                  │          
     )       │tore│    (Fires                        │    c │
      te Config Dorea│ 2. C                    │            ──────┐
  ──────────    ┌──────                         │ ▼
                         │                          │
          ─┘──  └───────      │             ──────┘
──────────┬──│ └───laimed  │ C──┬─────┘       └──     │
e)     irestor │ │    (FAlready │ │ fig    │ Con
        ce Doc │te Devi1. Creaor:   │ │   │ │ Err   │ Update   
    ┐─────────────────┐ ┌──────────────────┐ ┌───    ┌────
               ▼      ▼         ▼              │
       │        │                       │
   │  No    Yes  │           
              │  │             │        ┘
       ───────────┬─┬───┘  └─└──┬───────           │
       Device    │  │me User?         │ Sa
        New   │reate  │ Cck Owner  │      │ Che   
      ──┐────────────────┐  ┌──  ┌────────          
     ▼       ▼                   │
         │                          o
│  N         Yes  │                      │
          │                ───┬───┘
  ─┬──── └───               
         │?   Exists     │            │
     eck Device  │ Ch           ┐
         ─────────┌───────             ▼
                                        │
                         
─────┘────┬──      └────              
k   │ecuth ch A        │ •        │
     r ID      • Use   │               │
     ce ID    │ • Devi           │
       te Inputida      │ Val            ──┐
  ─────────     ┌─────            ▼
                                    │
                      ─┘
   ───────────────────────────────────────┬────────────────────
└────           │       ata)       sionDevice(d   provi                │ ──────┐
────────────────────────────────────────────────┌───────────

```
w (Step 3)e FloServicg ovisionin``

## Pr─────┘
`────────────────────────────────────────────────────
└──────── │                                   e ent homo patie tavigat
│  └─ N    │                                 complete k onboarding Mar
│  ├─     │                             y ion summarw configuratho│
│  ├─ S                                        etion       6: Compl│  Step        │
                                                         
│      │                                       el  levme ─ Set volu│
│  └                                           color   hoose LED│
│  ├─ C                                         sity intenLEDust dj├─ A │
│                                                mode  Set alarm ├─       │
│                                    ences    5: Preferep  St
│   │                                                                │
│                                     d          passwor│  └─ Enter      │
                             e         amwork n─ Enter net ├      │
│           )           (Optionalation iFi Configurp 4: W  │
│  Ste                                                              │
│                                      retry  th wi errors ndle
│  └─ Ha  │                               cators    gress indiShow pro ├─    │
│                          ) service   ce(evionDl provisi─ Cal│  ├  │
               IONING STEPAIN PROVIStion ◄── MVerificaep 3: 
│  St     │                                                                  │
│          es       s/underscor hyphenanumeric +heck alph│
│  └─ C                              n 5 chars)  t (miformaalidate ├─ V │
│                                  D        Ivicenters de─ User e
│  ├     │                                try    ID Ene p 2: Devic│  Ste        │
                                                                   │
│                           process     plain setup ─ Ex  │
│  └                                     uction     w introd├─ Sho│         │
                                         ome tep 1: Welc S│ 
  │                                                                    │
│                 D  NING WIZARE PROVISIODEVIC            ┐
│      ─────────────────────────────────────────────────────────────────  ▼
┌                   │
                              
       ─┘────────────────────────────────┬─────────────────────────────    │
└──                   s        tatue sgCompletoardinnbeck o
│  • Ch         │                           deviceIdr has  if useCheck •        │
│                 CHECK  G SERVICE  ROUTIN                 ───┐
│  ─────────────────────────────────────────────────────────  ▼
┌─────                                │
                 ─┘
       ───────────────────────────────────────┬────────────────────
└────        │          NUP        R SIGW USE          NE          ──┐
│     ───────────────────────────────────────────────────────────────``
┌g Flow

`oninrovisiComplete Pgram

##  Diang FlowProvisioni# Device 