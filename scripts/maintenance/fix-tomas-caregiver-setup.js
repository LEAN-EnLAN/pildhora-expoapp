p();
masSetu}

fixTot(0);
  }
s.exi
    procesinally {  } for);
 errâŒ ERROR:',('\nerrorole.
    consh (error) { } catc

 oard!');er dashbregivcathrough the data ient atcess all ps can now acToma\nðŸ’¡ e.log('
    consol
    });
nkId}`);ink.li ${l   Link ID:`  og( console.ld}`);
     atientI link.pil ||patientEma1}. ${link.  ${index + sole.log(`{
      con index) => (link,ted.forEach(sCrea link      

 `);.length}reated${linksCtients: Pad ke`\nLine.log(
    consoldated)`);giver (ups Role: carelog(`Tomasole.
    conail}`);User.emomasil: ${t(`Tomas Emasole.log cond}`);
   omasUser.iD: ${tr Iomas Use\nTlog(`nsole.   co0));
 ='.repeat(8g('le.lo
    consoLETE');âœ… SETUP COMP('log    console.(80));
eat'='.repg('\n' + .lo
    consolemaryum
    // S
r Tomas`); foze} linksnks.siverifyLiund ${ation: Foicif`\nâœ… Verog(console.l);

    t(.ge     r.id)
 masUse=', to, '=aregiverId're('c.whe')
      nksrPatientLiive'caregollection(.c = await dbLinksfy veri
    const...'); setup5: VerifyingSTEP '\nðŸ“‹ console.log(p
    fy the setuerip 5: V Ste    //

 });
   atient.id}`t.email || p${patient: or patien fd linkatereâœ… C  (`log  console. 
       );
      }.id
  atientd: ptientI pal,
       .emaiatientntEmail: p    patie.id,
     linkRefnkId: li   push({
    inksCreated.
      l(linkData);nks').addLienterPatiregivllection('cab.co df = awaitnst linkRe    co
   };
amp()
     esterTimerve.sre.FieldValun.firestodAt: admipdate
        u),erTimestamp(Value.servieldstore.F.firedmint: a   createdAe',
     tus: 'activ        staient.id,
d: pattientI      par.id,
  omasUseId: taregiver       c {
 inkData =    const lUsers) {
  entt of patit patien(cons;
    for Created = []const links     
 .');
  links..ient egiver-pating careat 4: Cr'\nðŸ“‹ STEPonsole.log( c   tients
pall nks for atLiienPat caregiver4: Create// Step  });

    `);
   O EMAIL'}email || 'N: ${patient..id}atient1}. ${pdex + g(`  ${inonsole.lo
      c) => {nt, index((patieachntUsers.forE
    patietients:`);l paotentiangth} pleentUsers. ${patiFounde.log(`\n  consol
   );

   | !u.role) |tient' 'pa==role =   (u..id && 
   masUserid !== to    u.(u => 
  sers.filterrs = allUpatientUsenst 
    co; users...')atient3: Finding pP og('\nðŸ“‹ STEnsole.l   cos)
 g Tomaxcludiners (et usnd patien3: Fitep 
    // S;
giver')to careted Role updalog('âœ…     console.
    });
'caregiver' role:    e({
  d).updatser.iomasUs').doc(ttion('usert db.collec
    awaigiver...');ares role to cating TomaEP 2: Updog('\nðŸ“‹ STconsole.lgiver
    are to coles re Tomapdat2: Up  // Ste);

   mail})`masUser.ed} (${toasUser.i${tom: masâœ… Found To\nle.log(`nso
    co
  }
  ss.exit(1); proce;
     user ID.')rect ify the corase specas user. Plend Tomould not fi'\nâŒ Cle.log(onso c {
     er)tomasUs
    if (!    });

OLE'})`);|| 'NO Rle (${user.ro} AIL' EM 'NOil ||${user.ema.id}: ${userlog(`  ole.   cons
    => {er.forEach(users allUs
   l users:');log('\nAlnsole.`);
    cototal usersth} Users.lengound ${allnF\og(`ole.l    cons   });

     }
 };
 .data c.id, ..: doer = { idUstomas         {
m@g.com')) 'torCase() ===l.toLoweai) || data.emtomas'ludes('erCase().incowemail.toL (data.ail && (data.em  if  
  ;
      data })d, ... id: doc.i.push({lUsers al
     ;data()doc.ata =  const d=> {
     oc .forEach(dapshotSners  us 
  ull;
   masUser = net to [];
    lallUsers =nst     co;
    
').get()'usersction( db.colle awaitSnapshot = usersnst   co.');
 users..ll  a: Finding'\nðŸ“‹ STEP 1log(  console.ers
   Find all usp 1: Ste//y {
    tr80));

  epeat(='.rsole.log('');
  conETUP\nR SIVEMAS CAREGXING TOlog('ðŸ”§ FIe.consoletup() {
  xTomasSunction fi

async firestore();in.fb = adm
const d);
o.com"
}eib.firebasefault-rtdora-app2-dldhps://piRL: "httseUdatabaount),
  erviceAcc(srtdential.cecrein.tial: adm  credenizeApp({
min.initial
};

ad"leapis.comgoog": "erse_domainiv",
  "uncount.comerviceacam.gsp2.ipildhora-ap%40bsvcdminsdk-ffirebase-atadata/x509//v1/mecom/robotogleapis.gops://www.ttl": "h_cert_urnt_x509,
  "clie"tsh2/v1/cerom/oautpis.cleaww.googhttps://w "url":rt_der_x509_ceviproh_
  "autken",s.com/toleapi.googoauth2 "https://i":  "token_urh2/auth",
m/o/oautoogle.cots.g://accounttps"huth_uri": ,
  "a7351906700"0407037985_id": "1ient",
  "clccount.comam.gserviceaapp2.idhora-pil-fbsvc@dminsdkrebase-a"fiail": _emlient "c,
 EY-----\n" KTE-END PRIVA----IMQI\nKihRFZ77KR8P1ZsnnlaTjcu6\nh2aVdP5Bb4oAEEqfjwGDMbUM6IIgmaRjOMbMPi5CmYKym84UC+vzdMSNei\nrSmUKhyuKXdz/Scv0RJgDp/IgYHj0qv3IVAIiVp8YAvsuY2i0eacCqme6afs0dqS+kDJBff\nvas372lfaiJlA14lAoGBAKpnTxtDUsv9z3hsnoWskUBBcKWJe\nM3GN9Fm+/JuOjVHu5vfYWYCW1AzOVSVBQHNmTtIc1noyPx9a5nITOMXBP6wVevodqtGT0\nXIgmxjFaLEzsP+q9TuOm2cC3fZbfvxnLFZmGQApKY59sQBdK7jRHh7WEF07OQjcbR0qIgDEQ\nQQKBqzQDm2Tb6dEa0FTfukQpDR5znvZUgAI4E0yOPkoEb+jGnSWv\ncrNqF+XoEIMTw4NvtyOedS5MlywEW2dTz3IZZ3FIg1hsH+9+GgnjetPOQtLzc+D2pc/iLeneNY6dfDLqT\nGb7Le3i0r4gA5ZrVnjFwtoWAXd5lmexZ0Ab7MnaSUdMhzBywKBgQCOxnO9\BQlAjpZ0q0GsPpHeHhiOFeM75BUh94qcDr7LT/0Q3dpRfoV3qpRO0bg+us8QUnfgO\p5/Q6L+zqnuuDF7wQc50m3EwE10mcFNqKEur+Fqyn6spdrqIsSLqO9AQqaX+e+\nFHDShudH4i7UDsLlso2UFQWH+hPrBgf58BgQDSDtsC/DIMUwKPSy4q/UN4V0+Fpk\nF2VZcYKrCkXHB4r/PkSdaRV/26SpJpvMPCemcwVxSdMJshTr3nScr3NIj67opkn5HiJU\h94MRu5dCTbB2B95xzjDGV4hKTD2kFvs8EqY3fz4TXeQc93UQRH29oznREffIOVrxDLBXX9J\uBV2qDgqWV0kom9gwKBgQR6Llm84+W9I6+xaQcEhVzV+OoxZGvnxPrB5\ns5f4NLFi7BGZ0gJ6/dsjCFkbrAAI4p8xVoCXV/FQTx0W+hF2ZWBPLN2T/\nSaDKZCJjQHhRVZy1+Ryu4cRKrMh9xDJ1iM0lukF3qiNWOsjXVjY+9A8Q1z6BcnzNfUYK0KNI/S\UWcTAfdpm9UyanF0o6a1BOCSU1dWfMEoW9VuzF7NWRgMKKxUQHjVmJLGSxvnKav\nSb688avM6PoyllB0M5u/ETzYAIyPnfOQ0VRtig2pVKbriiXz53XFBDmIZzvCFlUVfL/qx\njU0MGIXiHJP1+cLLa7PT02tJM++Ns3UZ6yDAECggEAGCAgMBAYhGDljR\nRtzwORf82+8KsR4DmQjj3WrxBnxdbECPyKkJMs7nuhpIK369lLcyWo3P3ruAhbMWFlB/\n+3xk6PjDoKi8Xd1vX+aXLDD6bd8p9BtSsn3wK+FSO5wwRIeqiSROTW+jKozh4D5caAP\nmPORiPOf8RRjx4NLqHRQqjQ31p5+eXSd/x9XtPxfYr8InptaaQQ6pFCY9qs\n/kiZ7MAzGUY2KU8E0JRvylnwFvInuDYcjutpox+0N82BPAmxX4P+S8oymqsx55EdD3+De0\nEcCK60yOT0MkvTdbLNp00SDAvqMnvALb9nvl9Skek+LtCE+2AKQorhuTGj8fAq\ne2QC4v62azEAAoIBAwggSkAgKgAQEFAASCBG9w0BBgkqhkiIEvgIBADAN---\nMIEY--IN PRIVATE K"-----BEGy": _keivate",
  "pr2bc1934dfb92ba74e861880a2230985d2": "1684b37vate_key_idri,
  "pp2""pildhora-ap: ject_id" "proccount",
 "service_a: "type"= {
  t rviceAccounonst semin');

cade-('firebasredmin = requiconst a